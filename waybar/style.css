/*──────────────────────────────────────────────────────────*/
/* Mosaic‐Inspired Palette                                */
/*──────────────────────────────────────────────────────────*/
@define-color mosaic-red    #D9201B;
@define-color mosaic-orange #E04F1A;
@define-color mosaic-yellow #F2C94C;
@define-color mosaic-olive  #67712F;
@define-color mosaic-teal   #287273;
@define-color mosaic-outline #0D0D0D;
@define-color mosaic-bg     #1C1F22;
@define-color mosaic-fg     #FFFFFF;

/*──────────────────────────────────────────────────────────*/
/* Base Reset & Font                                       */
/*──────────────────────────────────────────────────────────*/
* {
  margin: 0;
  padding: 0;
  font-family: "Fira Sans", "Iosevka Nerd Font";
  font-size: 14px;
}

/*──────────────────────────────────────────────────────────*/
/* Bar Background                                          */
/*──────────────────────────────────────────────────────────*/
window#waybar {
  background-color: @mosaic-bg;
  color: @mosaic-fg;
}

window#waybar.hidden {
  opacity: 0.2;
}

/*──────────────────────────────────────────────────────────*/
/* Mosaic “Panes” for Every Module                         */
/*──────────────────────────────────────────────────────────*/
#modules-left > *,
#modules-center > *,
#modules-right > * {
  margin: 2px;
  padding: 4px 8px;

  /* thick black lead lines */
  border: 2px solid @mosaic-outline;
  border-radius: 0;

  /* fallback color—overridden by nth-child rules below */
  background-color: @mosaic-red;
  color: @mosaic-fg;
}

/*──────────────────────────────────────────────────────────*/
/* Cycle 5 Colors Across Children                          */
/*──────────────────────────────────────────────────────────*/
#modules-left > *:nth-child(5n+1),
#modules-center > *:nth-child(5n+1),
#modules-right > *:nth-child(5n+1) {
  background-color: @mosaic-red;
}
#modules-left > *:nth-child(5n+2),
#modules-center > *:nth-child(5n+2),
#modules-right > *:nth-child(5n+2) {
  background-color: @mosaic-orange;
}
#modules-left > *:nth-child(5n+3),
#modules-center > *:nth-child(5n+3),
#modules-right > *:nth-child(5n+3) {
  background-color: @mosaic-yellow;
}
#modules-left > *:nth-child(5n+4),
#modules-center > *:nth-child(5n+4),
#modules-right > *:nth-child(5n+4) {
  background-color: @mosaic-olive;
}
#modules-left > *:nth-child(5n),
#modules-center > *:nth-child(5n),
#modules-right > *:nth-child(5n) {
  background-color: @mosaic-teal;
}

/*──────────────────────────────────────────────────────────*/
/* Hover: Brighten the Lead Lines                          */
/*──────────────────────────────────────────────────────────*/
#modules-left > *:hover,
#modules-center > *:hover,
#modules-right > *:hover {
  border-color: @mosaic-fg;
}

/*──────────────────────────────────────────────────────────*/
/* Critical Battery Blink                                   */
/*──────────────────────────────────────────────────────────*/
@keyframes blink {
  to { opacity: 0.2; }
}

#battery.critical:not(.charging) {
  animation: blink 0.5s steps(8) infinite alternate;
}
